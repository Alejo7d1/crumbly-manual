<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Frontend - Manual Técnico Crumbly</title>
    <link rel="stylesheet" href="../styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Crumbly</h1>
            <h2>Manual Tecnico - Frontend</h2>
            <p class="version">Versión 1.0</p>
        </header>

        <nav class="main-nav">
            <ul>
                <li><a href="../index.html" class="nav-link">Inicio</a></li>
                <li><a href="#estructura" class="nav-link">Estructura</a></li>
                <li><a href="#estado" class="nav-link">Estado</a></li>
                <li><a href="#ruteo" class="nav-link">Ruteo</a></li>
                <li><a href="#componentes" class="nav-link">Componentes</a></li>
                <li><a href="#comunicacion" class="nav-link">Comunicación</a></li>
                <li><a href="#build" class="nav-link">Build</a></li>
            </ul>
        </nav>

        <main>
            <!-- Sección Frontend Overview -->
            <section id="frontend" class="section">
                <h2>Frontend (React/Vite)</h2>
                <div class="content">
                    <div class="card">
                        <h3>Arquitectura Frontend</h3>
                        <p>El frontend de Crumbly está desarrollado en React con Vite como build tool, utilizando una arquitectura component-based con gestión de estado global.</p>
                        
                        <div class="features-grid">
                            <div class="feature">
                                <h4>Tecnologías Principales</h4>
                                <ul>
                                    <li>React 18+</li>
                                    <li>Vite 4.x</li>
                                    <li>Tailwind CSS</li>
                                    <li>React Router DOM</li>
                                    <li>Axios</li>
                                </ul>
                            </div>
                            <div class="feature">
                                <h4>Características</h4>
                                <ul>
                                    <li>Single Page Application (SPA)</li>
                                    <li>Diseño responsive mobile-first</li>
                                    <li>Gestor de estado global</li>
                                    <li>Ruteo cliente-side</li>
                                    <li>Optimización de rendimiento</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Sección Estructura de Directorios -->
            <section id="estructura" class="section">
                <h2>Estructura de Directorios</h2>
                <div class="content">
                    <div class="card">
                        <h3>Organización del Proyecto Frontend</h3>
                        <pre class="code-block"><code>
src
 ┣ assets
 ┃ ┣ public
 ┃ ┃ ┣ HomePage
 ┃ ┃ ┃ ┣ footer.jpeg
 ┃ ┃ ┃ ┣ macaronsPackage.jpg
 ┃ ┃ ┃ ┗ Orderbox.jpg
 ┃ ┃ ┗ SignIn
 ┃ ┃ ┃ ┣ Shop.jpeg
 ┃ ┃ ┃ ┗ Shop_dessert.jpg
 ┃ ┗ react.svg
 ┣ components
 ┃ ┣ private
 ┃ ┃ ┗ tabs.jsx
 ┃ ┗ public
 ┃ ┃ ┣ card.jsx
 ┃ ┃ ┣ customers.jsx
 ┃ ┃ ┗ Navbar.jsx
 ┣ routes
 ┃ ┗ index.jsx
 ┣ styles
 ┃ ┣ private
 ┃ ┃ ┗ dashboard.css
 ┃ ┣ public
 ┃ ┃ ┣ cards.css
 ┃ ┃ ┣ Customers.css
 ┃ ┃ ┣ detailProduct.css
 ┃ ┃ ┣ HomePage.css
 ┃ ┃ ┣ Navbar.css
 ┃ ┃ ┗ sign.css
 ┃ ┗ index.css
 ┣ types
 ┃ ┗ daisyui.d.ts
 ┣ views
 ┃ ┣ private
 ┃ ┃ ┣ Administradores.jsx
 ┃ ┃ ┣ Clientes.jsx
 ┃ ┃ ┣ Dashboard.jsx
 ┃ ┃ ┗ UsuariosLocales.jsx
 ┃ ┗ public
 ┃ ┃ ┣ Cart.jsx
 ┃ ┃ ┣ CreateAccount.jsx
 ┃ ┃ ┣ DetailProduct.jsx
 ┃ ┃ ┣ HomePage.jsx
 ┃ ┃ ┣ LoginAccount.jsx
 ┃ ┃ ┣ Ofertas.jsx
 ┃ ┃ ┗ Products.jsx
 ┣ App.css
 ┣ App.jsx
 ┗ main.jsx
</code></pre>
                    </div>
                    <div class="card">
                        <h3>Variables de Entorno</h3>
                        <pre class="code-block"><code>
#Backend
VITE_BACKEND_URL=http://127.0.0.1:8000
#Firebase
VITE_FIREBASE_API_KEY=AIzaSyCY3v1xufsZ8c5fMCwRvobYI0IcpSCNQSw
VITE_FIREBASE_AUTH_DOMAIN=crumbly-auth.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=crumbly-auth
VITE_FIREBASE_STORAGE_BUCKET=crumbly-auth.firebasestorage.app
VITE_FIREBASE_MESSAGING_SENDER_ID=686193624454
VITE_FIREBASE_APP_ID=1:686193624454:web:40cb515f06fa72d57b9807
</code></pre>
                    </div>

                    <div class="card">
                        <h3>Descripción de Directorios</h3>
                        <div class="features-grid">
                            <div class="feature">
                                <h4>components/</h4>
                                <p>Componentes reutilizables organizados por dominio y tipo (UI, layout, específicos).</p>
                            </div>
                            <div class="feature">
                                <h4>pages/</h4>
                                <p>Componentes que representan páginas completas de la aplicación.</p>
                            </div>
                            <div class="feature">
                                <h4>services/</h4>
                                <p>Módulos para comunicación con APIs externas y backend.</p>
                            </div>
                            <div class="feature">
                                <h4>hooks/</h4>
                                <p>Custom hooks para lógica reutilizable y gestión de estado.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Sección Gestión de Estado -->
            <section id="estado" class="section">
                <h2>Gestión de Estado Global</h2>
                <div class="content">
                    <div class="card">
                        <h3>Arquitectura de Estado</h3>
                        <p>Combina React Context API para estado global con custom hooks para estado local complejo.</p>
                        
                        <div class="card">
                            <h4>AuthContext - Gestión de Autenticación</h4>
                            <pre class="code-block"><code>import React, { createContext, useContext, useReducer } from 'react';

const AuthContext = createContext();

const authReducer = (state, action) => {
    switch (action.type) {
        case 'LOGIN_SUCCESS':
            return {
                ...state,
                user: action.payload.user,
                token: action.payload.token,
                isAuthenticated: true,
                loading: false
            };
        case 'LOGOUT':
            return {
                ...state,
                user: null,
                token: null,
                isAuthenticated: false,
                loading: false
            };
        case 'AUTH_ERROR':
            return {
                ...state,
                user: null,
                token: null,
                isAuthenticated: false,
                loading: false,
                error: action.payload
            };
        default:
            return state;
    }
};

const initialState = {
    user: null,
    token: localStorage.getItem('token'),
    isAuthenticated: false,
    loading: true,
    error: null
};

export const AuthProvider = ({ children }) => {
    const [state, dispatch] = useReducer(authReducer, initialState);

    return (
        <AuthContext.Provider value={{ state, dispatch }}>
            {children}
        </AuthContext.Provider>
    );
};

export const useAuth = () => {
    const context = useContext(AuthContext);
    if (!context) {
        throw new Error('useAuth debe ser usado dentro de AuthProvider');
    }
    return context;
};</code></pre>
                        </div>

                        <div class="features-grid">
                            <div class="feature">
                                <h4>Contextos Principales</h4>
                                <ul>
                                    <li>AuthContext - Autenticación de usuario</li>
                                    <li>CartContext - Carrito de compras</li>
                                    <li>AppContext - Configuración general</li>
                                </ul>
                            </div>
                            <div class="feature">
                                <h4>Custom Hooks</h4>
                                <ul>
                                    <li>useAuth - Gestión de autenticación</li>
                                    <li>useProducts - Gestión de productos</li>
                                    <li>useCart - Operaciones del carrito</li>
                                    <li>useLocalStorage - Persistencia local</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Sección Configuración del Ruteo -->
            <section id="ruteo" class="section">
                <h2>Configuración del Ruteo</h2>
                <div class="content">
                    <div class="card">
                        <h3>React Router DOM - Configuración Principal</h3>
                        <pre class="code-block"><code>
                            {
  "name": "react-router-dom",
  "version": "7.9.6",
  "description": "Declarative routing for React web applications",
  "keywords": [
    "react",
    "router",
    "route",
    "routing",
    "history",
    "link"
  ],
  "repository": {
    "type": "git",
    "url": "https://github.com/remix-run/react-router",
    "directory": "packages/react-router-dom"
  },
  "license": "MIT",
  "author": "Remix Software <hello@remix.run>",
  "sideEffects": false,
  "main": "./dist/main.js",
  "unpkg": "./dist/umd/react-router-dom.production.min.js",
  "module": "./dist/index.mjs",
  "types": "./dist/index.d.ts",
  "exports": {
    ".": {
      "node": {
        "types": "./dist/index.d.ts",
        "module-sync": "./dist/index.mjs",
        "default": "./dist/index.js"
      },
      "import": {
        "types": "./dist/index.d.mts",
        "default": "./dist/index.mjs"
      },
      "default": {
        "types": "./dist/index.d.ts",
        "default": "./dist/index.js"
      }
    },
    "./package.json": "./package.json"
  },
  "wireit": {
    "build": {
      "command": "tsup",
      "files": [
        "*.ts",
        "tsconfig.json",
        "package.json"
      ],
      "output": [
        "dist/**"
      ]
    }
  },
  "dependencies": {
    "react-router": "7.9.6"
  },
  "devDependencies": {
    "react": "^19.1.0",
    "react-dom": "^19.1.0",
    "tsup": "^8.3.0",
    "typescript": "^5.1.6",
    "wireit": "0.14.9"
  },
  "peerDependencies": {
    "react": ">=18",
    "react-dom": ">=18"
  },
  "files": [
    "dist/",
    "LICENSE.md",
    "README.md"
  ],
  "engines": {
    "node": ">=20.0.0"
  },
  "scripts": {
    "build": "wireit",
    "typecheck": "tsc"
  }
}
                        </code></pre>
                    </div>

                    <div class="card">
                        <h3>Estructura de Rutas</h3>
                        <div class="features-grid">
                            <div class="feature">
                                <h4>Rutas Públicas</h4>
                                <ul>
                                    <li>/ - Landing page</li>
                                    <li>/CreateAccount - Crear usuario</li>
                                    <li>/loginAccount - Inicio de sesión</li>
                                    <li>/detailProduct - detalles de producto</li>
                                </ul>
                            </div>
                            <div class="feature">
                                <h4>Rutas Protegidas</h4>
                                <ul>
                                    <li>/cart - Carrito de compras</li>
                                </ul>
                            </div>
                            <div class="feature">
                                <h4>Rutas Admin</h4>
                                <ul>
                                    <li>/private/Dashboard - Admin Dashboard</li>
                                    <li>/private/admins - Administración</li>
                                    <li>/private/clientes - Gestión clientes</li>
                                    <li>/private/usuarios_locales - Gestión usuarios locales</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Sección Componentes y Estilos -->
            <section id="componentes" class="section">
                <h2>Uso de Componentes y Librerías de Estilos</h2>
                <div class="content">
                    <div class="card">
                        <h3>Tailwind CSS - Configuración</h3>
                        <pre class="code-block"><code>
                            {
  content: [
    "./index.html",
    "./src/**/*.{js,jsx,ts,tsx}",
    "node_modules/@material-tailwind/react/components/**/*.{js,ts,jsx,tsx}",
    "node_modules/@material-tailwind/react/theme/components/**/*.{js,ts,jsx,tsx}",
  ],
  theme: {
    extend: {
     
      colors: {
        primary: "#1d4ed8",   
        secondary: "#9333ea",
      },
    },
  },
  plugins: [
    require("daisyui"), 
  ],
  daisyui: {
    themes: [
      {
        dashboard: {
          primary: "#1d4ed8",
          secondary: "#9333ea",
          accent: "#f59e0b",
          neutral: "#3d4451",
          "base-100": "#ffffff",
          info: "#2094f3",
          success: "#009485",
          warning: "#ff9900",
          error: "#ff5724",
        },
      },
    ],
  },
}
                        </code></pre>
                    </div>

                    <div class="card">
                        <h3>Librerías de UI Utilizadas</h3>
                        <div class="features-grid">
                            <div class="feature">
                                <h4>Tailwind CSS</h4>
                                <ul>
                                    <li>Framework de utilidades CSS</li>
                                    <li>Configuración personalizada</li>
                                    <li>Plugins oficiales</li>
                                    <li>Diseño responsive</li>
                                </ul>
                            </div>
                            <div class="feature">
                                <h4>Headless UI</h4>
                                <ul>
                                    <li>Componentes accesibles</li>
                                    <li>Integración con Tailwind</li>
                                    <li>Dropdowns, modales, etc.</li>
                                </ul>
                            </div>
                            <div class="feature">
                                <h4>Heroicons</h4>
                                <ul>
                                    <li>Iconografía consistente</li>
                                    <li>Set completo de iconos</li>
                                    <li>Optimizados para React</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Sección Comunicación con Backend -->
            <section id="comunicacion" class="section">
                <h2>Comunicación con el Backend</h2>
                <div class="content">
                    <div class="card">
                        <h3>Configuración de Axios</h3>
                        <pre class="code-block"><code>
import axios from "axios";
import { auth } from "../firebase/auth";

const api = axios.create({
  baseURL: import.meta.env.VITE_BACKEND_URL,
});

// Interceptor para agregar el token
api.interceptors.request.use(async (config) => {
  const user = auth.currentUser;

  if (user) {
    const token = await user.getIdToken();
    config.headers.Authorization = `Bearer ${token}`;
  }

  return config;
});

export default api;
                        </code></pre>
                    </div>

                    <div class="card">
                        <h3>Manejo de Errores y Loading States</h3>
                        <div class="features-grid">
                            <div class="feature">
                                <h4>Estrategias de Error</h4>
                                <ul>
                                    <li>Interceptores globales</li>
                                    <li>Manejo por tipo de error</li>
                                    <li>Reintentos automáticos</li>
                                    <li>Notificaciones al usuario</li>
                                </ul>
                            </div>
                            <div class="feature">
                                <h4>Estados de Carga</h4>
                                <ul>
                                    <li>Loading components</li>
                                    <li>Skeletons</li>
                                    <li>Optimistic updates</li>
                                    <li>Error boundaries</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Sección Build y Compilación -->
            <section id="build" class="section">
                <h2>Proceso de Build y Compilación</h2>
                <div class="content">
                    <div class="card">
                        <h3>Configuración de Vite</h3>
                        <pre class="code-block"><code>
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
import path from 'path'

//Paths para facilitar imports
export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      '@': path.resolve(__dirname, './src'),
      '@components': path.resolve(__dirname, './src/components'),
      '@firebase-config': path.resolve(__dirname, './src/firebase'),
      '@api': path.resolve(__dirname, './src/api'),
      '@utils': path.resolve(__dirname, './src/utils'),
      '@hooks': path.resolve(__dirname, './src/hooks'),
      '@styles': path.resolve(__dirname, './src/styles')
    }
  }
})
                        </code></pre>
                    </div>

                    <div class="card">
                        <h3>Scripts de Package.json</h3>
                        <pre class="code-block"><code>
{
  "name": "crumbly-official",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "lint": "eslint .",
    "preview": "vite preview"
  },
  "dependencies": {
    "@headlessui/react": "^2.2.9",
    "@heroicons/react": "^2.2.0",
    "@material-tailwind/react": "^2.1.10",
    "@tailwindcss/vite": "^4.1.14",
    "axios": "^1.13.2",
    "firebase": "^12.6.0",
    "framer-motion": "^12.23.24",
    "lucide-react": "^0.545.0",
    "react": "18.2.0",
    "react-bootstrap-icons": "^1.11.6",
    "react-dom": "18.2.0",
    "react-router-dom": "^7.9.3",
    "swiper": "^12.0.3"
  },
  "devDependencies": {
    "@eslint/js": "^9.36.0",
    "@tailwindcss/postcss": "^4.1.14",
    "@types/react": "^18.2.67",
    "@types/react-dom": "^18.2.22",
    "@vitejs/plugin-react": "^5.0.4",
    "autoprefixer": "^10.4.21",
    "eslint": "^9.36.0",
    "eslint-plugin-react-hooks": "^5.2.0",
    "eslint-plugin-react-refresh": "^0.4.22",
    "globals": "^16.4.0",
    "postcss": "^8.5.6",
    "tailwindcss": "^4.1.14",
    "vite": "^7.1.7"
  }
}
</code></pre>
                    </div>
                </div>
            </section>
        </main>

        <footer>
            <p>&copy; 2025 Crumbly - Plataforma de Repostería.</p>
            <p class="footer-links">
                <a href="../index.html">Inicio</a> • 
                <a href="backend.html">Backend</a> • 
                <a href="database.html">Base de Datos</a> • 
                <a href="team.html">Equipo</a>
            </p>
        </footer>
    </div>

    <script src="../script.js"></script>
</body>
</html>